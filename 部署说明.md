# 🚀 QuantDinger 部署说明

## 📌 当前状态
✅ 所有代码已完成
✅ 涨幅榜分析功能已实现
✅ HAMA指标算法已通过测试
⏳ 等待Docker部署

---

## 🎯 三步完成部署

### 步骤 1: 启动 Docker Desktop
1. 在开始菜单找到 "Docker Desktop"
2. 点击启动
3. 等待鲸鱼图标出现在系统托盘(约30秒)
4. 确保Docker完全启动

### 步骤 2: 运行部署脚本
在当前目录找到 **`一键部署.bat`** 文件:
- **右键点击** → **"以管理员身份运行"**
- 等待 2-3 分钟自动完成
- 看到"部署完成!"即成功

### 步骤 3: 验证部署
运行 **`check_deployment.py`** 检查状态:
```bash
python check_deployment.py
```

或者直接访问:
```
http://localhost:8888/gainer-analysis
```

---

## 📁 文件说明

### 部署脚本
- **一键部署.bat** - 最简单的部署方式(推荐)
- **DEPLOY_SIMPLE.bat** - 简化版部署脚本
- **restart_services.bat** - 完整部署脚本(可能有兼容问题)
- **deploy.ps1** - PowerShell部署脚本

### 检查工具
- **check_deployment.py** - 自动化部署状态检查工具

### 文档
- **START_HERE.md** - 从这里开始(新手推荐)
- **DEPLOY_NOW.md** - 立即部署指南
- **TROUBLESHOOTING.md** - 问题排查指南

---

## ✅ 部署成功验证

### 方法1: 浏览器访问
```
http://localhost:8888/gainer-analysis
```
应该能看到涨幅榜分析页面

### 方法2: 运行检查脚本
```bash
python check_deployment.py
```
应该看到所有检查项都显示"✅ 通过"

### 方法3: 命令行检查
```bash
docker compose ps
```
应该看到两个容器都是 "Up" 状态

---

## 🔐 登录信息

```
用户名: quantdinger
密码: 123456
```

---

## 🐛 常见问题

### 问题1: 端口被占用
**错误:** `port is already allocated`

**解决:**
```cmd
netstat -ano | findstr :5000
netstat -ano | findstr :8888
taskkill /PID <进程ID> /F
```

### 问题2: Docker未运行
**错误:** `Cannot connect to the Docker daemon`

**解决:** 启动 Docker Desktop 并等待完全启动

### 问题3: 构建失败
**错误:** 依赖安装错误

**解决:**
```cmd
docker compose build --no-cache
docker compose up -d
```

### 问题4: 容器未启动
**检查日志:**
```cmd
docker compose logs backend
docker compose logs frontend
```

**重启服务:**
```cmd
docker compose restart
```

---

## 📊 功能说明

### 涨幅榜分析功能
- ✅ 自动获取币安现货/合约涨幅榜前20
- ✅ 实时HAMA蜡烛图指标分析
- ✅ TradingView技术指标集成(RSI, MACD, ADX等)
- ✅ 趋势识别(上涨/下跌/横盘)
- ✅ 蜡烛图形态识别(锤子线、射击之星、吞没形态等)
- ✅ 多因子评分系统
- ✅ 买卖建议生成(BUY/SELL/HOLD)
- ✅ 置信度计算(30%-95%)

### 技术架构
- **后端**: Python Flask + CCXT + TradingView Scanner API
- **前端**: Vue 2 + Ant Design Vue
- **数据库**: SQLite
- **部署**: Docker Compose

---

## 📞 获取帮助

### 查看详细文档
- [START_HERE.md](START_HERE.md) - 快速开始
- [DEPLOY_NOW.md](DEPLOY_NOW.md) - 立即部署
- [TROUBLESHOOTING.md](TROUBLESHOOTING.md) - 问题排查
- [DOCKER_DEPLOYMENT.md](DOCKER_DEPLOYMENT.md) - 完整指南

### 运行测试
```bash
# 算法测试(离线)
python test_hama_algorithm.py

# 集成测试(需要后端)
python test_hama_real_data.py
```

### 查看日志
```bash
# 实时日志
docker compose logs -f backend

# 最近100行
docker compose logs --tail=100 backend
```

---

## 🎉 开始使用

1. **部署应用** → 双击 `一键部署.bat`
2. **检查状态** → 运行 `python check_deployment.py`
3. **访问应用** → 打开 http://localhost:8888/gainer-analysis
4. **登录系统** → quantdinger / 123456
5. **开始分析** → 选择市场类型,点击刷新按钮

---

**准备好了吗? 现在就双击 `一键部署.bat` 开始部署! 🚀**
